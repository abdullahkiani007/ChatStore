(function(){"use strict";const B=typeof globalThis.browser<"u"?globalThis.browser:chrome;async function J(){const{favorites:A=[]}=await B.storage.local.get("favorites");return A}async function p(A){return console.log("type of browser is ",typeof B),B.storage.local.set({favorites:A})}const n={allFavorites:[],filteredFavorites:[],renderedCount:0,PAGE_SIZE:40};async function u(A=!0){console.log("loading favourite...");const t=await J();A&&(n.allFavorites=t,n.renderedCount=0,Q(""))}function Q(A){const t=A.trim().toLowerCase();n.filteredFavorites=t?n.allFavorites.filter(e=>(e.title||e.url).toLowerCase().includes(t)):n.allFavorites,n.renderedCount=0}function x(){const A=n.filteredFavorites.slice(n.renderedCount,n.renderedCount+n.PAGE_SIZE);return n.renderedCount+=A.length,A}async function E(A,t){const e=await J();return e.some(o=>o.url===t)?!1:(e.push({title:A,url:t}),await p(e),!0)}async function M(A){n.allFavorites.splice(A,1),await p(n.allFavorites)}function r(A,t={},e=[]){const o=document.createElement(A);if(t.class&&(o.className=t.class),t.id&&(o.id=t.id),t.text&&(o.textContent=t.text),t.attrs)for(const[i,a]of Object.entries(t.attrs))o.setAttribute(i,a);t.style&&Object.assign(o.style,t.style);for(const i of e)o.append(i);return o}const S=A=>{for(;A.firstChild;)A.firstChild.remove()};function k(){const A=window.matchMedia("(prefers-color-scheme: dark)").matches;return{panelBg:A?"rgba(32,32,36,0.85)":"rgba(255,255,255,0.8)",panelBorder:A?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",text:A?"#f0f0f0":"#222",hoverBg:A?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.05)"}}function I(A){const t=k(),e=r("div",{text:A,style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:t.panelBg,backdropFilter:"blur(10px)",color:t.text,padding:"10px 16px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.25)",opacity:"0",transition:"opacity 0.3s ease",zIndex:"2147483647"}});document.body.appendChild(e),requestAnimationFrame(()=>e.style.opacity="1"),setTimeout(()=>{e.style.opacity="0",setTimeout(()=>e.remove(),300)},1500)}const m="data:image/png;base64,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";typeof globalThis.browser<"u"?globalThis.browser:chrome;function b(A,t=300){let e;return(...o)=>{clearTimeout(e),e=setTimeout(()=>{A(...o)},t)}}function Y(){console.log("Initializing panel....");const A=k(),t=r("button",{id:"fav-extension-logo",text:"â˜…",style:{position:"fixed",bottom:"20px",right:"20px",width:"48px",height:"48px",borderRadius:"12px",background:A.panelBg,border:"none",backdropFilter:"blur(10px)",boxShadow:"0 4px 12px rgba(0,0,0,0.25)",cursor:"pointer",zIndex:"2147483647"}}),e=r("div",{id:"fav-extension-panel",style:{position:"fixed",bottom:"80px",right:"20px",width:"320px",maxHeight:"420px",background:A.panelBg,border:`1px solid ${A.panelBorder}`,borderRadius:"16px",padding:"16px",overflowY:"auto",backdropFilter:"blur(10px)",display:"none",opacity:"1",transform:"translateY(20px)",transition:"opacity 0.25s ease, transform 0.25s ease",zIndex:"2147483647",color:A.text}}),o=r("div",{text:"Saved Chats",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",fontWeight:"600"}}),i=r("button",{text:"âœ•",style:{background:"transparent",border:"none",cursor:"pointer",fontSize:"18px",color:A.text}});i.onclick=w,o.appendChild(i);const a=r("button",{text:"ðŸ’¾ Save Chat",style:{border:"none",background:"#1E1E22",color:"#fff",borderRadius:"8px",padding:"8px 16px",marginRight:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transition:"all 0.15s ease"}});a.onmouseenter=()=>{a.style.transform="translateY(-1px)",a.style.boxShadow="0 4px 8px rgba(0,0,0,0.25)"},a.onmouseleave=()=>{a.style.transform="translateY(0)",a.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)"},a.onclick=async()=>{const s=await E(document.title.replace(/\s*\|.*$/,""),location.href);I(s?"Chat saved!":"Already saved"),await C()},o.insertBefore(a,i);const d=r("input",{attrs:{type:"search",placeholder:"Search by titleâ€¦"},style:{width:"100%",marginBottom:"8px",padding:"6px 8px",border:`1px solid ${A.panelBorder}`,borderRadius:"8px",background:"rgba(0,0,0,0.05)",color:A.text,fontSize:"14px"}});d.oninput=async()=>{L()};const L=b(()=>{Q(d.value),f(!0)},300),D=r("ul",{style:{listStyle:"none",padding:"0",margin:"0"}}),v=r("div",{text:"Click a chat to open it in a new tab.",style:{marginTop:"12px",fontSize:"12px",opacity:"0.7",textAlign:"center"}});e.append(o,d,D,v),document.body.append(t,e);async function C(){console.log("refresh is beign fired..."),await u(!0),f(!0)}function f(s=!1){s&&S(D);const c=x();for(let g=c.length-1;g>=0;g--){const y=c[g],l=n.renderedCount-c.length+g;D.appendChild(W(y,l))}}function W(s,c){const g=r("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 6px",borderRadius:"6px",borderBottom:`1px solid ${A.panelBorder}`,gap:"8px"}});g.onmouseenter=()=>{g.style.background="rgba(0,0,0,0.1)"},g.onmouseleave=()=>{g.style.background="transparent"};const y=r("a",{text:s.title||s.url,attrs:{href:s.url,target:"_blank",rel:"noopener noreferrer",title:s.title||s.url},style:{color:A.text,textDecoration:"none",fontSize:"small",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:"1 1 0",minWidth:"0"}}),l=r("img",{attrs:{src:m,alt:"Delete",title:"Remove chat"},style:{width:"17px",height:"17px",cursor:"pointer",flexShrink:"0",display:"block",margin:"0 auto",transition:"transform 0.15s ease"}});return l.onmouseenter=()=>{l.style.transform="scale(1.3)"},l.onmouseleave=()=>{l.style.transform="scale(1)"},l.onclick=async h=>{h.stopPropagation(),await M(c),await C()},g.append(y,l),g}function H(){console.log("show is beign fired....."),C(),e.style.display="block",requestAnimationFrame(()=>{e.style.opacity="1",e.style.transform="translateY(0)"})}function w(){e.style.opacity="0",e.style.transform="translateY(20px)",setTimeout(()=>e.style.display="none",250)}t.onclick=()=>e.style.display==="none"?H():w(),document.addEventListener("click",s=>{e.style.display==="block"&&!e.contains(s.target)&&s.target!==t&&w()}),document.addEventListener("keydown",s=>{s.key==="Escape"&&w()}),e.addEventListener("scroll",()=>{e.scrollTop+e.clientHeight>=e.scrollHeight-100&&n.renderedCount<n.filteredFavorites.length&&f(!1)})}window.__favChatsInjected||(window.__favChatsInjected=!0,typeof globalThis.browser<"u"?globalThis.browser:chrome,Y())})();
